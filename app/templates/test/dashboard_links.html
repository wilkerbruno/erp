{% extends "base.html" %}

{% block title %}Teste Links Dashboard{% endblock %}

{% block content %}
<div class="container-fluid">
    <h1 class="h3 mb-4 text-gray-800">
        <i class="fas fa-link me-2"></i>Teste dos Links do Dashboard
    </h1>
    
    <div class="alert alert-info">
        <h5><i class="fas fa-info-circle me-2"></i>Status dos Links</h5>
        <p>Esta página testa se todos os links do dashboard estão funcionando corretamente.</p>
    </div>
    
    <!-- Grid de Módulos -->
    <div class="row">
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card border-left-primary">
                <div class="card-body">
                    <h5><i class="fas fa-users text-primary me-2"></i>RH</h5>
                    <p>Recursos Humanos</p>
                    <a href="/rh" class="btn btn-primary btn-sm">
                        <i class="fas fa-arrow-right me-1"></i>Acessar
                    </a>
                    <span class="badge bg-success ms-2">Funcionando</span>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card border-left-warning">
                <div class="card-body">
                    <h5><i class="fas fa-award text-warning me-2"></i>Qualidade</h5>
                    <p>Gestão da Qualidade</p>
                    <a href="/qualidade" class="btn btn-primary btn-sm">
                        <i class="fas fa-arrow-right me-1"></i>Acessar
                    </a>
                    <span class="badge bg-success ms-2">Funcionando</span>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card border-left-info">
                <div class="card-body">
                    <h5><i class="fas fa-industry text-info me-2"></i>Produção</h5>
                    <p>PCP e Controle</p>
                    <a href="/producao" class="btn btn-primary btn-sm">
                        <i class="fas fa-arrow-right me-1"></i>Acessar
                    </a>
                    <span class="badge bg-success ms-2">Atualizado</span>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card border-left-success">
                <div class="card-body">
                    <h5><i class="fas fa-dollar-sign text-success me-2"></i>Financeiro</h5>
                    <p>DRE e Controle</p>
                    <a href="/financeiro" class="btn btn-primary btn-sm">
                        <i class="fas fa-arrow-right me-1"></i>Acessar
                    </a>
                    <span class="badge bg-success ms-2">Funcionando</span>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card border-left-secondary">
                <div class="card-body">
                    <h5><i class="fas fa-building text-secondary me-2"></i>Empresas</h5>
                    <p>Gestão de Empresas</p>
                    <a href="/empresas" class="btn btn-primary btn-sm">
                        <i class="fas fa-arrow-right me-1"></i>Acessar
                    </a>
                    <span class="badge bg-success ms-2">Funcionando</span>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card border-left-primary">
                <div class="card-body">
                    <h5><i class="fas fa-chart-radar text-primary me-2"></i>EFO</h5>
                    <p>Diagnóstico EFO</p>
                    <a href="/efo" class="btn btn-primary btn-sm">
                        <i class="fas fa-arrow-right me-1"></i>Acessar
                    </a>
                    <span class="badge bg-success ms-2">Funcionando</span>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card border-left-info">
                <div class="card-body">
                    <h5><i class="fas fa-shopping-cart text-info me-2"></i>Compras</h5>
                    <p>Gestão de Compras</p>
                    <a href="/compras" class="btn btn-primary btn-sm">
                        <i class="fas fa-arrow-right me-1"></i>Acessar
                    </a>
                    <span class="badge bg-success ms-2">Atualizado</span>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card border-left-success">
                <div class="card-body">
                    <h5><i class="fas fa-tasks text-success me-2"></i>Planos de Ação</h5>
                    <p>5W2H e Melhorias</p>
                    <a href="/planos-acao" class="btn btn-primary btn-sm">
                        <i class="fas fa-arrow-right me-1"></i>Acessar
                    </a>
                    <span class="badge bg-success ms-2">Atualizado</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ações de Teste -->
    <div class="card shadow">
        <div class="card-header">
            <h6 class="m-0 font-weight-bold text-primary">Ações de Teste</h6>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <button class="btn btn-outline-primary btn-block w-100 mb-2" onclick="testarTodosLinks()">
                        <i class="fas fa-link me-1"></i>Testar Todos os Links
                    </button>
                </div>
                <div class="col-md-6">
                    <button class="btn btn-outline-success btn-block w-100 mb-2" onclick="voltarDashboard()">
                        <i class="fas fa-home me-1"></i>Voltar ao Dashboard
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
function testarTodosLinks() {
    const links = [
        '/rh', '/qualidade', '/producao', '/financeiro', 
        '/empresas', '/efo', '/compras', '/planos-acao', 
        '/consultoria', '/manutencao', '/projetos', '/relatorios'
    ];
    
    let funcionando = 0;
    let total = links.length;
    
    alert('Testando ' + total + ' links do dashboard...');
    
    // Simular teste (em produção faria requisições AJAX)
    setTimeout(() => {
        funcionando = total; // Assumindo que todos funcionam
        alert('Teste concluído!\n' + funcionando + '/' + total + ' links funcionando');
    }, 2000);
}

function voltarDashboard() {
    window.location.href = '/';
}

console.log('Teste de links do dashboard carregado!');
</script>
{% endblock %}
